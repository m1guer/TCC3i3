{"ast":null,"code":"import React, { useState, useRef } from 'react';\nimport { useScrollIntoView } from '@mantine/hooks';\nimport { groupOptions } from '@mantine/utils';\nimport { SelectScrollArea } from '../../Select/SelectScrollArea/SelectScrollArea.js';\nimport { Divider } from '../../Divider/Divider.js';\nimport useStyles from './RenderList.styles.js';\nimport { UnstyledButton } from '../../UnstyledButton/UnstyledButton.js';\nimport { Text } from '../../Text/Text.js';\nimport { TextInput } from '../../TextInput/TextInput.js';\nimport { ActionIcon } from '../../ActionIcon/ActionIcon.js';\nimport { PrevIcon } from '../../Pagination/icons/PrevIcon.js';\nimport { NextIcon } from '../../Pagination/icons/NextIcon.js';\nimport { FirstIcon } from '../../Pagination/icons/FirstIcon.js';\nimport { LastIcon } from '../../Pagination/icons/LastIcon.js';\nconst icons = {\n  Prev: PrevIcon,\n  Next: NextIcon,\n  First: FirstIcon,\n  Last: LastIcon\n};\nconst rtlIons = {\n  Next: PrevIcon,\n  Prev: NextIcon,\n  Last: FirstIcon,\n  First: LastIcon\n};\n\nfunction RenderList({\n  className,\n  data,\n  onSelect,\n  selection,\n  itemComponent: ItemComponent,\n  listComponent,\n  searchPlaceholder,\n  filter,\n  nothingFound,\n  title,\n  showTransferAll,\n  reversed,\n  onMoveAll,\n  onMove,\n  height,\n  radius,\n  classNames,\n  styles,\n  limit,\n  unstyled\n}) {\n  const {\n    classes,\n    cx,\n    theme\n  } = useStyles({\n    reversed,\n    native: listComponent !== SelectScrollArea,\n    radius\n  }, {\n    name: \"TransferList\",\n    classNames,\n    styles,\n    unstyled\n  });\n  const unGroupedItems = [];\n  const groupedItems = [];\n  const [query, setQuery] = useState(\"\");\n  const [hovered, setHovered] = useState(-1);\n  const filteredData = data.filter(item => filter(query, item)).slice(0, limit);\n  const ListComponent = listComponent || \"div\";\n  const Icons = theme.dir === \"rtl\" ? rtlIons : icons;\n  const itemsRefs = useRef({});\n  const sortedData = groupOptions({\n    data: filteredData\n  });\n  const {\n    scrollIntoView,\n    targetRef,\n    scrollableRef\n  } = useScrollIntoView({\n    duration: 0,\n    offset: 5,\n    cancelable: false,\n    isList: true\n  });\n  let groupName = null;\n  sortedData.forEach((item, index) => {\n    const itemComponent = /* @__PURE__ */React.createElement(UnstyledButton, {\n      unstyled,\n      tabIndex: -1,\n      onClick: () => onSelect(item.value),\n      key: item.value,\n      onMouseEnter: () => setHovered(index),\n      className: cx(classes.transferListItem, {\n        [classes.transferListItemHovered]: index === hovered\n      }),\n      ref: node => {\n        if (itemsRefs && itemsRefs.current) {\n          itemsRefs.current[item.value] = node;\n        }\n      }\n    }, /* @__PURE__ */React.createElement(ItemComponent, {\n      data: item,\n      selected: selection.includes(item.value),\n      radius\n    }));\n\n    if (!item.group) {\n      unGroupedItems.push(itemComponent);\n    } else {\n      if (groupName !== item.group) {\n        groupName = item.group;\n        groupedItems.push( /* @__PURE__ */React.createElement(\"div\", {\n          className: classes.separator,\n          key: groupName\n        }, /* @__PURE__ */React.createElement(Divider, {\n          classNames: {\n            label: classes.separatorLabel\n          },\n          label: groupName\n        })));\n      }\n\n      groupedItems.push(itemComponent);\n    }\n  });\n\n  if (groupedItems.length > 0 && unGroupedItems.length > 0) {\n    unGroupedItems.unshift( /* @__PURE__ */React.createElement(\"div\", {\n      className: classes.separator\n    }, /* @__PURE__ */React.createElement(Divider, {\n      unstyled,\n      classNames: {\n        label: classes.separatorLabel\n      }\n    })));\n  }\n\n  const handleSearchKeydown = event => {\n    switch (event.key) {\n      case \"Enter\":\n        {\n          event.preventDefault();\n\n          if (filteredData[hovered]) {\n            onSelect(filteredData[hovered].value);\n          }\n\n          break;\n        }\n\n      case \"ArrowDown\":\n        {\n          event.preventDefault();\n          setHovered(current => {\n            var _a;\n\n            const nextIndex = current < filteredData.length - 1 ? current + 1 : current;\n            targetRef.current = itemsRefs.current[(_a = filteredData[nextIndex]) == null ? void 0 : _a.value];\n            scrollIntoView({\n              alignment: \"end\"\n            });\n            return nextIndex;\n          });\n          break;\n        }\n\n      case \"ArrowUp\":\n        {\n          event.preventDefault();\n          setHovered(current => {\n            var _a;\n\n            const nextIndex = current > 0 ? current - 1 : current;\n            targetRef.current = itemsRefs.current[(_a = filteredData[nextIndex]) == null ? void 0 : _a.value];\n            scrollIntoView({\n              alignment: \"start\"\n            });\n            return nextIndex;\n          });\n        }\n    }\n  };\n\n  return /* @__PURE__ */React.createElement(\"div\", {\n    className: cx(classes.transferList, className)\n  }, title && /* @__PURE__ */React.createElement(Text, {\n    weight: 500,\n    unstyled,\n    className: classes.transferListTitle\n  }, title), /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.transferListBody\n  }, /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.transferListHeader\n  }, /* @__PURE__ */React.createElement(TextInput, {\n    unstyled,\n    value: query,\n    onChange: event => {\n      setQuery(event.currentTarget.value);\n      setHovered(0);\n    },\n    onFocus: () => setHovered(0),\n    onBlur: () => setHovered(-1),\n    placeholder: searchPlaceholder,\n    radius: 0,\n    onKeyDown: handleSearchKeydown,\n    sx: {\n      flex: 1\n    },\n    classNames: {\n      input: classes.transferListSearch\n    }\n  }), /* @__PURE__ */React.createElement(ActionIcon, {\n    variant: \"default\",\n    size: 36,\n    radius: 0,\n    className: classes.transferListControl,\n    disabled: selection.length === 0,\n    onClick: onMove,\n    unstyled\n  }, reversed ? /* @__PURE__ */React.createElement(Icons.Prev, null) : /* @__PURE__ */React.createElement(Icons.Next, null)), showTransferAll && /* @__PURE__ */React.createElement(ActionIcon, {\n    variant: \"default\",\n    size: 36,\n    radius: 0,\n    className: classes.transferListControl,\n    disabled: data.length === 0,\n    onClick: onMoveAll,\n    unstyled\n  }, reversed ? /* @__PURE__ */React.createElement(Icons.First, null) : /* @__PURE__ */React.createElement(Icons.Last, null))), /* @__PURE__ */React.createElement(ListComponent, {\n    ref: scrollableRef,\n    onMouseLeave: () => setHovered(-1),\n    className: classes.transferListItems,\n    style: {\n      height,\n      position: \"relative\",\n      overflowX: \"hidden\"\n    }\n  }, groupedItems.length > 0 || unGroupedItems.length > 0 ? /* @__PURE__ */React.createElement(React.Fragment, null, groupedItems, unGroupedItems) : /* @__PURE__ */React.createElement(Text, {\n    color: \"dimmed\",\n    unstyled,\n    size: \"sm\",\n    align: \"center\",\n    mt: \"sm\"\n  }, nothingFound))));\n}\n\nRenderList.displayName = \"@mantine/core/RenderList\";\nexport { RenderList };","map":{"version":3,"sources":["../../../src/TransferList/RenderList/RenderList.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\nimport { DefaultProps, Selectors, MantineNumberSize } from '@mantine/styles';\nimport { useScrollIntoView } from '@mantine/hooks';\nimport { groupOptions } from '@mantine/utils';\nimport { SelectScrollArea } from '../../Select/SelectScrollArea/SelectScrollArea';\nimport { UnstyledButton } from '../../UnstyledButton';\nimport { ActionIcon } from '../../ActionIcon';\nimport { TextInput } from '../../TextInput';\nimport { Text } from '../../Text';\nimport { Divider } from '../../Divider/Divider';\nimport { LastIcon, NextIcon, FirstIcon, PrevIcon } from '../../Pagination/icons';\nimport { TransferListItem, TransferListItemComponent } from '../types';\nimport useStyles from './RenderList.styles';\n\nexport type RenderListStylesNames = Selectors<typeof useStyles>;\n\nexport interface RenderListProps extends DefaultProps<RenderListStylesNames> {\n  data: TransferListItem[];\n  onSelect(value: string): void;\n  selection: string[];\n  itemComponent: TransferListItemComponent;\n  searchPlaceholder: string;\n  filter(query: string, item: TransferListItem): boolean;\n  nothingFound?: React.ReactNode;\n  title?: React.ReactNode;\n  reversed?: boolean;\n  showTransferAll?: boolean;\n  onMoveAll(): void;\n  onMove(): void;\n  height: number;\n  radius: MantineNumberSize;\n  listComponent?: React.FC<any>;\n  limit?: number;\n}\n\nconst icons = {\n  Prev: PrevIcon,\n  Next: NextIcon,\n  First: FirstIcon,\n  Last: LastIcon,\n};\n\nconst rtlIons = {\n  Next: PrevIcon,\n  Prev: NextIcon,\n  Last: FirstIcon,\n  First: LastIcon,\n};\n\nexport function RenderList({\n  className,\n  data,\n  onSelect,\n  selection,\n  itemComponent: ItemComponent,\n  listComponent,\n  searchPlaceholder,\n  filter,\n  nothingFound,\n  title,\n  showTransferAll,\n  reversed,\n  onMoveAll,\n  onMove,\n  height,\n  radius,\n  classNames,\n  styles,\n  limit,\n  unstyled,\n}: RenderListProps) {\n  const { classes, cx, theme } = useStyles(\n    { reversed, native: listComponent !== SelectScrollArea, radius },\n    { name: 'TransferList', classNames, styles, unstyled }\n  );\n  const unGroupedItems: React.ReactElement<any>[] = [];\n  const groupedItems: React.ReactElement<any>[] = [];\n  const [query, setQuery] = useState('');\n  const [hovered, setHovered] = useState(-1);\n  const filteredData = data.filter((item) => filter(query, item)).slice(0, limit);\n  const ListComponent = listComponent || 'div';\n  const Icons = theme.dir === 'rtl' ? rtlIons : icons;\n\n  const itemsRefs = useRef<Record<string, HTMLButtonElement>>({});\n\n  const sortedData: TransferListItem[] = groupOptions({ data: filteredData });\n\n  const { scrollIntoView, targetRef, scrollableRef } = useScrollIntoView({\n    duration: 0,\n    offset: 5,\n    cancelable: false,\n    isList: true,\n  });\n\n  let groupName = null;\n\n  sortedData.forEach((item, index) => {\n    const itemComponent = (\n      <UnstyledButton\n        unstyled={unstyled}\n        tabIndex={-1}\n        onClick={() => onSelect(item.value)}\n        key={item.value}\n        onMouseEnter={() => setHovered(index)}\n        className={cx(classes.transferListItem, {\n          [classes.transferListItemHovered]: index === hovered,\n        })}\n        ref={(node: HTMLButtonElement) => {\n          if (itemsRefs && itemsRefs.current) {\n            itemsRefs.current[item.value] = node;\n          }\n        }}\n      >\n        <ItemComponent data={item} selected={selection.includes(item.value)} radius={radius} />\n      </UnstyledButton>\n    );\n\n    if (!item.group) {\n      unGroupedItems.push(itemComponent);\n    } else {\n      if (groupName !== item.group) {\n        groupName = item.group;\n        groupedItems.push(\n          <div className={classes.separator} key={groupName}>\n            <Divider classNames={{ label: classes.separatorLabel }} label={groupName} />\n          </div>\n        );\n      }\n      groupedItems.push(itemComponent);\n    }\n  });\n\n  if (groupedItems.length > 0 && unGroupedItems.length > 0) {\n    unGroupedItems.unshift(\n      <div className={classes.separator}>\n        <Divider unstyled={unstyled} classNames={{ label: classes.separatorLabel }} />\n      </div>\n    );\n  }\n\n  const handleSearchKeydown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.key) {\n      case 'Enter': {\n        event.preventDefault();\n        if (filteredData[hovered]) {\n          onSelect(filteredData[hovered].value);\n        }\n        break;\n      }\n\n      case 'ArrowDown': {\n        event.preventDefault();\n        setHovered((current) => {\n          const nextIndex = current < filteredData.length - 1 ? current + 1 : current;\n\n          targetRef.current = itemsRefs.current[filteredData[nextIndex]?.value];\n\n          scrollIntoView({\n            alignment: 'end',\n          });\n\n          return nextIndex;\n        });\n        break;\n      }\n\n      case 'ArrowUp': {\n        event.preventDefault();\n        setHovered((current) => {\n          const nextIndex = current > 0 ? current - 1 : current;\n\n          targetRef.current = itemsRefs.current[filteredData[nextIndex]?.value];\n\n          scrollIntoView({\n            alignment: 'start',\n          });\n\n          return nextIndex;\n        });\n      }\n    }\n  };\n\n  return (\n    <div className={cx(classes.transferList, className)}>\n      {title && (\n        <Text weight={500} unstyled={unstyled} className={classes.transferListTitle}>\n          {title}\n        </Text>\n      )}\n\n      <div className={classes.transferListBody}>\n        <div className={classes.transferListHeader}>\n          <TextInput\n            unstyled={unstyled}\n            value={query}\n            onChange={(event) => {\n              setQuery(event.currentTarget.value);\n              setHovered(0);\n            }}\n            onFocus={() => setHovered(0)}\n            onBlur={() => setHovered(-1)}\n            placeholder={searchPlaceholder}\n            radius={0}\n            onKeyDown={handleSearchKeydown}\n            sx={{ flex: 1 }}\n            classNames={{ input: classes.transferListSearch }}\n          />\n\n          <ActionIcon\n            variant=\"default\"\n            size={36}\n            radius={0}\n            className={classes.transferListControl}\n            disabled={selection.length === 0}\n            onClick={onMove}\n            unstyled={unstyled}\n          >\n            {reversed ? <Icons.Prev /> : <Icons.Next />}\n          </ActionIcon>\n\n          {showTransferAll && (\n            <ActionIcon\n              variant=\"default\"\n              size={36}\n              radius={0}\n              className={classes.transferListControl}\n              disabled={data.length === 0}\n              onClick={onMoveAll}\n              unstyled={unstyled}\n            >\n              {reversed ? <Icons.First /> : <Icons.Last />}\n            </ActionIcon>\n          )}\n        </div>\n\n        <ListComponent\n          ref={scrollableRef}\n          onMouseLeave={() => setHovered(-1)}\n          className={classes.transferListItems}\n          style={{ height, position: 'relative', overflowX: 'hidden' }}\n        >\n          {groupedItems.length > 0 || unGroupedItems.length > 0 ? (\n            <>\n              {groupedItems}\n              {unGroupedItems}\n            </>\n          ) : (\n            <Text color=\"dimmed\" unstyled={unstyled} size=\"sm\" align=\"center\" mt=\"sm\">\n              {nothingFound}\n            </Text>\n          )}\n        </ListComponent>\n      </div>\n    </div>\n  );\n}\n\nRenderList.displayName = '@mantine/core/RenderList';\n"]},"metadata":{},"sourceType":"module"}