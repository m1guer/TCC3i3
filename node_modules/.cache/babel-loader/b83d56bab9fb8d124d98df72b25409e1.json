{"ast":null,"code":"import { useRef } from 'react';\n\nfunction useGuaranteedMemo(fn, deps) {\n  const ref = useRef();\n\n  if (!ref.current || deps.length !== ref.current.prevDeps.length || ref.current.prevDeps.map((v, i) => v === deps[i]).indexOf(false) >= 0) {\n    ref.current = {\n      v: fn(),\n      prevDeps: [...deps]\n    };\n  }\n\n  return ref.current.v;\n}\n\nexport { useGuaranteedMemo };","map":{"version":3,"sources":["../../../../src/tss/utils/use-guaranteed-memo/use-guaranteed-memo.ts"],"names":[],"mappings":";;AACO,SAAS,iBAAT,CAA2B,EAA3B,EAA+B,IAA/B,EAAqC;AAC1C,QAAM,GAAG,GAAG,MAAM,EAAlB;;AACA,MAAI,CAAC,GAAG,CAAC,OAAL,IAAgB,IAAI,CAAC,MAAL,KAAgB,GAAG,CAAC,OAAJ,CAAY,QAAZ,CAAqB,MAArD,IAA+D,GAAG,CAAC,OAAJ,CAAY,QAAZ,CAAqB,GAArB,CAAyB,CAAC,CAAD,EAAI,CAAJ,KAAU,CAAC,KAAK,IAAI,CAAC,CAAD,CAA7C,EAAkD,OAAlD,CAA0D,KAA1D,KAAoE,CAAvI,EAA0I;AACxI,IAAA,GAAG,CAAC,OAAJ,GAAc;AACZ,MAAA,CAAC,EAAE,EAAE,EADO;AAEZ,MAAA,QAAQ,EAAE,CAAC,GAAG,IAAJ;AAFE,KAAd;AAID;;AACD,SAAO,GAAG,CAAC,OAAJ,CAAY,CAAnB;AACF","sourcesContent":["import { useRef } from 'react';\n\nexport function useGuaranteedMemo<T>(fn: () => T, deps: React.DependencyList): T {\n  const ref = useRef<{ v: T; prevDeps: unknown[] }>();\n\n  if (\n    !ref.current ||\n    deps.length !== ref.current.prevDeps.length ||\n    ref.current.prevDeps.map((v, i) => v === deps[i]).indexOf(false) >= 0\n  ) {\n    ref.current = {\n      v: fn(),\n      prevDeps: [...deps],\n    };\n  }\n\n  return ref.current.v;\n}\n"]},"metadata":{},"sourceType":"module"}