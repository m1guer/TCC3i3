{"ast":null,"code":"function escapeRegex(value) {\n  return value.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, \"\\\\$&\");\n}\n\nfunction highlighter(value, _highlight) {\n  if (_highlight == null) {\n    return [{\n      chunk: value,\n      highlighted: false\n    }];\n  }\n\n  const highlight = Array.isArray(_highlight) ? _highlight.map(escapeRegex) : escapeRegex(_highlight);\n  const shouldHighlight = Array.isArray(highlight) ? highlight.filter(part => part.trim().length > 0).length > 0 : highlight.trim() !== \"\";\n\n  if (!shouldHighlight) {\n    return [{\n      chunk: value,\n      highlighted: false\n    }];\n  }\n\n  const matcher = typeof highlight === \"string\" ? highlight.trim() : highlight.filter(part => part.trim().length !== 0).map(part => part.trim()).join(\"|\");\n  const re = new RegExp(`(${matcher})`, \"gi\");\n  const chunks = value.split(re).map(part => ({\n    chunk: part,\n    highlighted: re.test(part)\n  })).filter(({\n    chunk\n  }) => chunk);\n  return chunks;\n}\n\nexport { highlighter };","map":{"version":3,"sources":["../../../src/Highlight/highlighter/highlighter.ts"],"names":[],"mappings":"AAAA,SAAS,WAAT,CAAqB,KAArB,EAA4B;AAC1B,SAAO,KAAK,CAAC,OAAN,CAAc,wBAAd,EAAwC,MAAxC,CAAP;AACD;;AACM,SAAS,WAAT,CAAqB,KAArB,EAA4B,UAA5B,EAAwC;AAC7C,MAAI,UAAU,IAAI,IAAlB,EAAwB;AACtB,WAAO,CAAC;AAAE,MAAA,KAAK,EAAE,KAAT;AAAgB,MAAA,WAAW,EAAE;AAA7B,KAAD,CAAP;AACD;;AACD,QAAM,SAAS,GAAG,KAAK,CAAC,OAAN,CAAc,UAAd,IAA4B,UAAU,CAAC,GAAX,CAAe,WAAf,CAA5B,GAA0D,WAAW,CAAC,UAAD,CAAvF;AACA,QAAM,eAAe,GAAG,KAAK,CAAC,OAAN,CAAc,SAAd,IAA2B,SAAS,CAAC,MAAV,CAAkB,IAAD,IAAU,IAAI,CAAC,IAAL,GAAY,MAAZ,GAAqB,CAAhD,EAAmD,MAAnD,GAA4D,CAAvF,GAA2F,SAAS,CAAC,IAAV,OAAqB,EAAxI;;AACA,MAAI,CAAC,eAAL,EAAsB;AACpB,WAAO,CAAC;AAAE,MAAA,KAAK,EAAE,KAAT;AAAgB,MAAA,WAAW,EAAE;AAA7B,KAAD,CAAP;AACD;;AACD,QAAM,OAAO,GAAG,OAAO,SAAP,KAAqB,QAArB,GAAgC,SAAS,CAAC,IAAV,EAAhC,GAAmD,SAAS,CAAC,MAAV,CAAkB,IAAD,IAAU,IAAI,CAAC,IAAL,GAAY,MAAZ,KAAuB,CAAlD,EAAqD,GAArD,CAA0D,IAAD,IAAU,IAAI,CAAC,IAAL,EAAnE,EAAgF,IAAhF,CAAqF,GAArF,CAAnE;AACA,QAAM,EAAE,GAAG,IAAI,MAAJ,CAAY,IAAG,OAAQ,GAAvB,EAA2B,IAA3B,CAAX;AACA,QAAM,MAAM,GAAG,KAAK,CAAC,KAAN,CAAY,EAAZ,EAAgB,GAAhB,CAAqB,IAAD,KAAW;AAAE,IAAA,KAAK,EAAE,IAAT;AAAe,IAAA,WAAW,EAAE,EAAE,CAAC,IAAH,CAAQ,IAAR;AAA5B,GAAX,CAApB,EAA6E,MAA7E,CAAoF,CAAC;AAAE,IAAA;AAAF,GAAD,KAAe,KAAnG,CAAf;AACA,SAAO,MAAP;AACF","sourcesContent":["function escapeRegex(value: string) {\n  return value.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, '\\\\$&');\n}\n\nexport function highlighter(value: string, _highlight: string | string[]) {\n  if (_highlight == null) {\n    return [{ chunk: value, highlighted: false }];\n  }\n\n  const highlight = Array.isArray(_highlight)\n    ? _highlight.map(escapeRegex)\n    : escapeRegex(_highlight);\n\n  const shouldHighlight = Array.isArray(highlight)\n    ? highlight.filter((part) => part.trim().length > 0).length > 0\n    : highlight.trim() !== '';\n\n  if (!shouldHighlight) {\n    return [{ chunk: value, highlighted: false }];\n  }\n\n  const matcher =\n    typeof highlight === 'string'\n      ? highlight.trim()\n      : highlight\n          .filter((part) => part.trim().length !== 0)\n          .map((part) => part.trim())\n          .join('|');\n\n  const re = new RegExp(`(${matcher})`, 'gi');\n  const chunks = value\n    .split(re)\n    .map((part) => ({ chunk: part, highlighted: re.test(part) }))\n    .filter(({ chunk }) => chunk);\n\n  return chunks;\n}\n"]},"metadata":{},"sourceType":"module"}