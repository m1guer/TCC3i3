{"ast":null,"code":"import { findTabbableDescendants } from './tabbable.js';\n\nfunction scopeTab(node, event) {\n  const tabbable = findTabbableDescendants(node);\n\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const leavingFinalTabbable = finalTabbable === document.activeElement || node === document.activeElement;\n\n  if (!leavingFinalTabbable) {\n    return;\n  }\n\n  event.preventDefault();\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n\n  if (target) {\n    target.focus();\n  }\n}\n\nexport { scopeTab };","map":{"version":3,"sources":["../../src/use-focus-trap/scope-tab.ts"],"names":[],"mappings":";;AACO,SAAS,QAAT,CAAkB,IAAlB,EAAwB,KAAxB,EAA+B;AACpC,QAAM,QAAQ,GAAG,uBAAuB,CAAC,IAAD,CAAxC;;AACA,MAAI,CAAC,QAAQ,CAAC,MAAd,EAAsB;AACpB,IAAA,KAAK,CAAC,cAAN;AACA;AACD;;AACD,QAAM,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAN,GAAiB,CAAjB,GAAqB,QAAQ,CAAC,MAAT,GAAkB,CAAxC,CAA9B;AACA,QAAM,oBAAoB,GAAG,aAAa,KAAK,QAAQ,CAAC,aAA3B,IAA4C,IAAI,KAAK,QAAQ,CAAC,aAA3F;;AACA,MAAI,CAAC,oBAAL,EAA2B;AACzB;AACD;;AACD,EAAA,KAAK,CAAC,cAAN;AACA,QAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAN,GAAiB,QAAQ,CAAC,MAAT,GAAkB,CAAnC,GAAuC,CAAxC,CAAvB;;AACA,MAAI,MAAJ,EAAY;AACV,IAAA,MAAM,CAAC,KAAP;AACD;AACH","sourcesContent":["import { findTabbableDescendants } from './tabbable';\n\nexport function scopeTab(node: HTMLElement, event: KeyboardEvent) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const leavingFinalTabbable =\n    finalTabbable === document.activeElement || node === document.activeElement;\n\n  if (!leavingFinalTabbable) {\n    return;\n  }\n\n  event.preventDefault();\n\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n\n  if (target) {\n    target.focus();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}